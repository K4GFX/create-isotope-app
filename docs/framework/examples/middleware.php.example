<?php
// app/middleware.php
return function() {
    // 1. 全リクエストで実行される処理を記述
    // 例: カスタムヘッダーの追加
    header('X-Isotope-Version: 1.1.0');

    // 2. セッションの開始
    if (session_status() === PHP_SESSION_NONE) {
        session_start();
    }

    // 3. 認証チェックの例
    // if (!isset($_SESSION['user']) && $_SERVER['REQUEST_URI'] !== '/login') {
    //     header('Location: /login');
    //     exit;
    // }
};
